<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Indian Road Digital Twin</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- ===== Navbar ===== -->
  <nav class="navbar navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="#">Indian Road Digital Twin</a>
    </div>
  </nav>

  <!-- ===== Header ===== -->
  <header class="bg-primary text-white text-center py-5">
    <h1>Accelerating High-Fidelity Road Network Modeling</h1>
    <p>Smart India Hackathon 2025 | Problem Statement SIH25100</p>
  </header>

  <!-- ===== Problem Section ===== -->
  <section class="container my-5">
    <h2>🚦 The Problem</h2>
    <p>
      Urban traffic congestion in Indian cities is worsened by software that assumes ideal road conditions...
    </p>
  </section>
<!DOCTYPE html>
<html>
<head>
  <title>Indian Road Digital Twin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }
    nav {
      background: #333;
      display: flex;
      justify-content: space-around;
      padding: 15px;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
    }
    nav a:hover {
      color: #ffd700;
    }
    #content {
      padding: 20px;
    }
    iframe {
      border: none;
      width: 100%;
      height: 80vh;
    }
  </style>
</head>
<body>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Driver Registration</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 700px;
      margin: auto;
      background: #fff;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    h1, h2 {
      text-align: center;
    }
    .form-step {
      display: none;
    }
    .form-step.active {
      display: block;
    }
    .form-group {
      margin-bottom: 15px;
    }
    .form-group label {
      display: block;
      margin-bottom: 6px;
    }
    .form-input, .form-select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    .btn {
      padding: 10px 20px;
      margin: 10px 5px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background: #007bff;
      color: #fff;
      transition: background 0.3s;
    }
    .btn:hover {
      background: #0056b3;
    }
    .radio-group, .checkbox-group {
      display: flex;
      gap: 10px;
    }
    .radio-item, .checkbox-item {
      padding: 8px 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      cursor: pointer;
      user-select: none;
    }
    .radio-item.checked, .checkbox-item.checked {
      background: #007bff;
      color: #fff;
    }
    .profile-pic-preview img {
      max-width: 100px;
      border-radius: 50%;
      margin-top: 10px;
    }
    .summary {
      padding: 15px;
      background: #f1f1f1;
      border-radius: 8px;
    }
    .success-message {
      text-align: center;
      padding: 20px;
      background: #d4edda;
      border: 1px solid #c3e6cb;
      border-radius: 10px;
      color: #155724;
      font-size: 18px;
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Driver Registration</h1>
    <form id="registrationForm">
      
      <!-- Step 1 -->
      <div id="step1" class="form-step active">
        <div class="form-group">
          <label for="ownerName">Full Name</label>
          <input type="text" id="ownerName" class="form-input" required>
        </div>
        <div class="form-group">
          <label for="phoneNumber">Phone Number</label>
          <input type="tel" id="phoneNumber" class="form-input" placeholder="+91 XXXXX XXXXX" required pattern="(\+91)?[0-9]{10}">
        </div>
        <button type="button" class="btn" onclick="nextStep(1)">Next</button>
      </div>

      <!-- Step 2 -->
      <div id="step2" class="form-step">
        <div class="form-group">
          <label for="age">Age</label>
          <input type="number" id="age" class="form-input" required>
        </div>
        <div class="form-group">
          <label>Gender</label>
          <div class="radio-group">
            <div class="radio-item" onclick="selectGender('male', this)">Male
              <input type="radio" id="male" name="gender" value="Male" hidden>
            </div>
            <div class="radio-item" onclick="selectGender('female', this)">Female
              <input type="radio" id="female" name="gender" value="Female" hidden>
            </div>
            <div class="radio-item" onclick="selectGender('other', this)">Other
              <input type="radio" id="other" name="gender" value="Other" hidden>
            </div>
          </div>
        </div>
        <button type="button" class="btn" onclick="prevStep(2)">Back</button>
        <button type="button" class="btn" onclick="nextStep(2)">Next</button>
      </div>

      <!-- Step 3 -->
      <div id="step3" class="form-step">
        <div class="form-group">
          <label for="email">Email (optional)</label>
          <input type="email" id="email" class="form-input">
        </div>
        <div class="form-group">
          <label for="city">City</label>
          <input type="text" id="city" class="form-input" required>
        </div>
        <div class="form-group">
          <label for="state">State</label>
          <input type="text" id="state" class="form-input" required>
        </div>
        <button type="button" class="btn" onclick="prevStep(3)">Back</button>
        <button type="button" class="btn" onclick="nextStep(3)">Next</button>
      </div>

      <!-- Step 4 -->
      <div id="step4" class="form-step">
        <div class="form-group">
          <label for="drivingExperience">Years of Driving Experience</label>
          <input type="number" id="drivingExperience" class="form-input">
        </div>
        <div class="form-group">
          <label>Vehicle Types</label>
          <div class="checkbox-group">
            <div class="checkbox-item" onclick="toggleCheckbox('car', this)">Car
              <input type="checkbox" id="car" name="vehicleType" value="car" hidden>
            </div>
            <div class="checkbox-item" onclick="toggleCheckbox('bike', this)">Bike
              <input type="checkbox" id="bike" name="vehicleType" value="bike" hidden>
            </div>
            <div class="checkbox-item" onclick="toggleCheckbox('truck', this)">Truck
              <input type="checkbox" id="truck" name="vehicleType" value="truck" hidden>
            </div>
          </div>
        </div>
        <div class="form-group" id="vehicleNumberInputs"></div>
        <div class="form-group">
          <label for="profilePic">Profile Picture</label>
          <input type="file" id="profilePic" class="form-input" accept="image/*" onchange="previewProfilePic(this)">
          <div class="profile-pic-preview"></div>
        </div>
        <button type="button" class="btn" onclick="prevStep(4)">Back</button>
        <button type="button" class="btn" onclick="nextStep(4)">Next</button>
      </div>

      <!-- Step 5 -->
      <div id="step5" class="form-step">
        <h2>Summary</h2>
        <div id="profileSummary" class="summary"></div>
        <button type="button" class="btn" onclick="prevStep(5)">Back</button>
        <button type="submit" class="btn">Submit</button>
      </div>
    </form>
    
    <div id="successMessage" class="success-message">
      🎉 Registration Successful! Redirecting...
    </div>
  </div>

  <script>
    let currentStep = 1;

    function nextStep(step) {
      if (validateStep(step)) {
        document.getElementById(`step${step}`).classList.remove('active');
        currentStep++;
        document.getElementById(`step${currentStep}`).classList.add('active');
        if (currentStep === 5) generateSummary();
      }
    }

    function prevStep(step) {
      document.getElementById(`step${step}`).classList.remove('active');
      currentStep--;
      document.getElementById(`step${currentStep}`).classList.add('active');
    }

    function validateStep(step) {
      const inputs = document.querySelectorAll(`#step${step} .form-input[required]`);
      for (let input of inputs) {
        if (!input.value.trim()) {
          alert("Please fill all required fields");
          return false;
        }
      }
      return true;
    }

    function selectGender(gender, element) {
      document.querySelectorAll('.radio-item').forEach(item => item.classList.remove('checked'));
      element.classList.add('checked');
      document.getElementById(gender).checked = true;
    }

    function toggleCheckbox(type, element) {
      element.classList.toggle('checked');
      const checkbox = document.getElementById(type);
      checkbox.checked = !checkbox.checked;
      handleVehicleNumberInputs();
    }

    function handleVehicleNumberInputs() {
      const container = document.getElementById('vehicleNumberInputs');
      container.innerHTML = '';
      document.querySelectorAll('input[name="vehicleType"]:checked').forEach(cb => {
        const div = document.createElement('div');
        div.className = 'form-group';
        div.innerHTML = `<label for="${cb.value}Number">${cb.value.toUpperCase()} Number</label>
                         <input type="text" id="${cb.value}Number" class="form-input" required>`;
        container.appendChild(div);
      });
    }

    function previewProfilePic(input) {
      if (input.files && input.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
          document.querySelector('.profile-pic-preview').innerHTML = `<img src="${e.target.result}" alt="Profile Picture">`;
        };
        reader.readAsDataURL(input.files[0]);
      }
    }

    function generateSummary() {
      const name = document.getElementById('ownerName').value;
      const phone = document.getElementById('phoneNumber').value;
      const age = document.getElementById('age').value;
      const gender = document.querySelector('input[name="gender"]:checked')?.value;
      const email = document.getElementById('email').value || 'Not provided';
      const city = document.getElementById('city').value;
      const state = document.getElementById('state').value;
      const experience = document.getElementById('drivingExperience').value || 'Not provided';

      const selectedVehicles = Array.from(document.querySelectorAll('input[name="vehicleType"]:checked'))
        .map(cb => {
          const type = cb.value;
          const number = document.getElementById(type + 'Number')?.value || 'Not provided';
          return `${type.charAt(0).toUpperCase() + type.slice(1)}: ${number}`;
        });

      const summaryHTML = `
        <div class="summary-item"><strong>Name:</strong> <span>${name}</span></div>
        <div class="summary-item"><strong>Phone:</strong> <span>${phone}</span></div>
        <div class="summary-item"><strong>Age:</strong> <span>${age} years</span></div>
        <div class="summary-item"><strong>Gender:</strong> <span>${gender}</span></div>
        <div class="summary-item"><strong>Email:</strong> <span>${email}</span></div>
        <div class="summary-item"><strong>Location:</strong> <span>${city}, ${state}</span></div>
        <div class="summary-item"><strong>Experience:</strong> <span>${experience} years</span></div>
        <div class="summary-item"><strong>Vehicles:</strong> <span>${selectedVehicles.join(', ')}</span></div>
      `;
      document.getElementById('profileSummary').innerHTML = summaryHTML;
    }

    document.getElementById('registrationForm').addEventListener('submit', function(e) {
      e.preventDefault();
      document.getElementById('registrationForm').style.display = 'none';
      const success = document.getElementById('successMessage');
      success.style.display = 'block';
      setTimeout(() => {
        window.location.href = 'https://mamathabandi467-droid.github.io/indian-road-digital-twin/';
      }, 2000);
    });
  </script>
</body>
</html>
  <!-- ===== Solutions Section ===== -->
  <section id="solutions" style="padding:60px 20px; background:#f8f9fa;">
    <div style="max-width:1000px; margin:0 auto; text-align:center;">
      <h2 style="font-size:2.2rem; margin-bottom:10px;">Our Solutions</h2>
      <p style="color:#555; margin-bottom:40px;">
        We created three targeted solutions using <b>MATLAB</b> and <b>SUMO</b> simulation tools to improve road network modeling.
      </p>

      <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(250px,1fr)); gap:25px;">
        <div style="background:white; border-radius:12px; padding:25px; box-shadow:0 2px 8px rgba(0,0,0,0.08);">
          <h3>🚗 Lane Management</h3>
          <p style="color:#555;">We simulated lane discipline and dynamic lane allocation to reduce traffic congestion.</p>
        </div>

        <div style="background:white; border-radius:12px; padding:25px; box-shadow:0 2px 8px rgba(0,0,0,0.08);">
          <h3>🚧 Construction Zones</h3>
          <p style="color:#555;">We modeled temporary roadblocks and rerouting strategies to avoid jams during construction.</p>
        </div>

        <div style="background:white; border-radius:12px; padding:25px; box-shadow:0 2px 8px rgba(0,0,0,0.08);">
          <h3>⚠ Potholes & Barricades</h3>
          <p style="color:#555;">We analyzed how obstacles affect traffic speed and safety, and planned smarter routes.</p>
        </div>
      </div>
    </div>
  </section>
  <!DOCTYPE html>
<html>
<head>
  <title>Live GPS Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    #map {
      height: 100%;
      width: 100%;
    }
  </style>
</head>
<body>

<div id="map"></div>

<script>
  let map, marker;

  function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      zoom: 15,
      center: { lat: 0, lng: 0 }
    });

    if (navigator.geolocation) {
      navigator.geolocation.watchPosition((pos) => {
        const userPos = {
          lat: pos.coords.latitude,
          lng: pos.coords.longitude
        };
        map.setCenter(userPos);
        if (!marker) {
          marker = new google.maps.Marker({
            position: userPos,
            map: map,
            title: "You are here"
          });
        } else {
          marker.setPosition(userPos);
        }
      });
    } else {
      alert("Geolocation is not supported by this browser.");
    }
  }
</script>

<script async
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC9r4I3K164gGgiKNlNJjzx4TPjOKVbhkU&callback=initMap">
</script>

</body>
</html>
  <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Road Condition Monitor - Pothole & Construction Detection</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            color: #333;
        }

        .app-container {
            max-width: 100%;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            min-height: 100vh;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
        }

        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1.5rem;
            text-align: center;
            position: relative;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .header p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .controls-panel {
            background: white;
            padding: 1.5rem;
            border-bottom: 1px solid #e1e8ed;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .route-section {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 1rem;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .location-input {
            position: relative;
        }

        .location-input label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
            font-size: 0.9rem;
        }

        .input-container {
            position: relative;
        }

        .location-input input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .location-input input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .location-btn {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: #667eea;
            border: none;
            border-radius: 8px;
            padding: 6px 8px;
            cursor: pointer;
            color: white;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .location-btn:hover {
            background: #5a6fd8;
        }

        .swap-btn {
            background: #667eea;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .swap-btn:hover {
            transform: rotate(180deg);
            background: #5a6fd8;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 1rem;
            align-items: center;
        }

        .route-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .find-route-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .find-route-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .clear-route-btn {
            background: #f8f9fa;
            color: #666;
            border: 2px solid #e1e8ed;
        }

        .clear-route-btn:hover {
            background: #e9ecef;
            border-color: #ced4da;
        }

        .options-toggle {
            background: #f8f9fa;
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #666;
        }

        .options-toggle:hover {
            background: #e9ecef;
        }

        .monitoring-panel {
            background: #f8f9fa;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 12px;
            border: 1px solid #e1e8ed;
        }

        .monitoring-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .monitoring-btn {
            padding: 10px 16px;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .pothole-scan {
            background: #ff6b6b;
            color: white;
        }

        .construction-scan {
            background: #ffa500;
            color: white;
        }

        .realtime-toggle {
            background: #4ecdc4;
            color: white;
        }

        .monitoring-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .monitoring-btn.active {
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.8);
        }

        .map-container {
            position: relative;
            flex: 1;
            min-height: calc(100vh - 300px);
        }

        #map {
            width: 100%;
            height: 100%;
            min-height: 500px;
        }

        .hazard-info {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            max-width: 320px;
            z-index: 1000;
            display: none;
        }

        .hazard-info.show {
            display: block;
            animation: slideInLeft 0.3s ease;
        }

        .hazard-info h3 {
            color: #667eea;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .hazard-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .stat-item {
            text-align: center;
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .stat-value {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .stat-value.danger {
            color: #ff6b6b;
        }

        .stat-value.warning {
            color: #ffa500;
        }

        .stat-value.safe {
            color: #4ecdc4;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #666;
        }

        .hazard-list {
            max-height: 200px;
            overflow-y: auto;
        }

        .hazard-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            margin-bottom: 0.3rem;
            background: white;
            border-radius: 6px;
            border-left: 4px solid #ddd;
            font-size: 0.8rem;
        }

        .hazard-item.pothole {
            border-left-color: #ff6b6b;
        }

        .hazard-item.construction {
            border-left-color: #ffa500;
        }

        .hazard-item.roadwork {
            border-left-color: #667eea;
        }

        .hazard-distance {
            font-weight: 600;
            color: #666;
            margin-left: auto;
        }

        .road-legend {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.3rem;
            font-size: 0.8rem;
        }

        .legend-icon {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: white;
        }

        .pothole-icon {
            background: #ff6b6b;
        }

        .construction-icon {
            background: #ffa500;
        }

        .roadwork-icon {
            background: #667eea;
        }

        .safe-icon {
            background: #4ecdc4;
        }

        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            display: none;
        }

        .loading-overlay.show {
            display: flex;
        }

        .loading-content {
            text-align: center;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        .alert-banner {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 0.8rem 1.5rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            display: none;
            align-items: center;
            gap: 0.5rem;
            animation: slideDown 0.3s ease;
        }

        .alert-banner.show {
            display: flex;
        }

        .alert-banner.warning {
            background: linear-gradient(135deg, #ffa500, #ff7f00);
        }

        .alert-banner.info {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @media (max-width: 768px) {
            .route-section {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .swap-btn {
                order: 3;
                justify-self: center;
                transform: rotate(90deg);
            }

            .action-buttons {
                grid-template-columns: 1fr;
            }

            .monitoring-controls {
                grid-template-columns: 1fr;
            }

            .hazard-info {
                position: relative;
                top: 0;
                left: 0;
                margin: 1rem;
                max-width: none;
            }

            .road-legend {
                position: relative;
                bottom: 0;
                right: 0;
                margin: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <h1>🚧 Road Condition Monitor</h1>
            <p>Real-time Pothole & Construction Detection System</p>
        </div>

        <div class="controls-panel">
            <div class="alert-banner" id="alertBanner">
                <span id="alertIcon">⚠️</span>
                <span id="alertText">Hazard Alert</span>
                <button onclick="hideAlert()" style="margin-left: auto; background: none; border: none; color: white; cursor: pointer;">✕</button>
            </div>

            <div class="route-section">
                <div class="location-input">
                    <label for="startLocation">📍 Starting Point</label>
                    <div class="input-container">
                        <input type="text" id="startLocation" placeholder="Enter starting location...">
                        <button class="location-btn" onclick="getCurrentLocation('start')">📍</button>
                    </div>
                </div>
                
                <button class="swap-btn" onclick="swapLocations()" title="Swap locations">⇄</button>
                
                <div class="location-input">
                    <label for="endLocation">🎯 Destination</label>
                    <div class="input-container">
                        <input type="text" id="endLocation" placeholder="Enter destination...">
                        <button class="location-btn" onclick="getCurrentLocation('end')">📍</button>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="route-btn find-route-btn" onclick="scanRoute()">
                    🔍 Scan Route for Hazards
                </button>
                <button class="route-btn clear-route-btn" onclick="clearRoute()">
                    🗑️ Clear Route
                </button>
                <button class="options-toggle" onclick="toggleOptions()">
                    ⚙️ Monitoring Options
                </button>
            </div>

            <div class="monitoring-panel">
                <div class="monitoring-controls">
                    <button class="monitoring-btn pothole-scan" onclick="togglePotholeDetection()" id="potholeBtn">
                        🕳️ Pothole Detection
                    </button>
                    <button class="monitoring-btn construction-scan" onclick="toggleConstructionDetection()" id="constructionBtn">
                        🚧 Construction Detection
                    </button>
                    <button class="monitoring-btn realtime-toggle" onclick="toggleRealtimeMonitoring()" id="realtimeBtn">
                        📡 Real-time Monitoring
                    </button>
                </div>
            </div>
        </div>

        <div class="map-container">
            <div id="map"></div>
            
            <div class="loading-overlay" id="loadingOverlay">
                <div class="loading-content">
                    <div class="loading-spinner"></div>
                    <p>Scanning route for potholes and construction zones...</p>
                </div>
            </div>

            <div class="hazard-info" id="hazardInfo">
                <h3>⚠️ Road Hazards Detected</h3>
                <div class="hazard-stats">
                    <div class="stat-item">
                        <div class="stat-value danger" id="potholeCount">0</div>
                        <div class="stat-label">Potholes</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value warning" id="constructionCount">0</div>
                        <div class="stat-label">Construction</div>
                    </div>
                </div>
                <div class="hazard-list" id="hazardList">
                    <!-- Hazards will be populated here -->
                </div>
            </div>

            <div class="road-legend">
                <h4 style="margin-bottom: 0.5rem; font-size: 0.9rem;">Road Conditions</h4>
                <div class="legend-item">
                    <div class="legend-icon pothole-icon">🕳️</div>
                    <span>Pothole Detected</span>
                </div>
                <div class="legend-item">
                    <div class="legend-icon construction-icon">🚧</div>
                    <span>Construction Zone</span>
                </div>
                <div class="legend-item">
                    <div class="legend-icon roadwork-icon">⚠️</div>
                    <span>Road Work</span>
                </div>
                <div class="legend-item">
                    <div class="legend-icon safe-icon">✅</div>
                    <span>Safe Road</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        let map;
        let directionsService;
        let directionsRenderer;
        let startMarker;
        let endMarker;
        let autocompleteStart;
        let autocompleteEnd;
        let hazardMarkers = [];
        let potholeDetectionActive = true;
        let constructionDetectionActive = true;
        let realtimeMonitoringActive = false;
        let currentRoute = null;

        // Sample hazard data - in real implementation, this would come from APIs/databases
        const hazardData = {
            potholes: [
                { lat: 13.6288, lng: 79.4192, severity: 'high', size: 'large', reportedBy: 'user', timestamp: new Date() },
                { lat: 13.6308, lng: 79.4212, severity: 'medium', size: 'medium', reportedBy: 'sensor', timestamp: new Date() },
                { lat: 13.6328, lng: 79.4232, severity: 'low', size: 'small', reportedBy: 'user', timestamp: new Date() }
            ],
            construction: [
                { lat: 13.6298, lng: 79.4202, type: 'road_work', duration: '2 weeks', impact: 'lane_closure', authority: 'Municipal Corporation' },
                { lat: 13.6318, lng: 79.4222, type: 'bridge_repair', duration: '1 month', impact: 'full_closure', authority: 'NHAI' }
            ],
            roadwork: [
                { lat: 13.6338, lng: 79.4242, type: 'maintenance', duration: '3 days', impact: 'minor_delay', authority: 'Local' }
            ]
        };

        // Initialize the map
        function initMap() {
            map = new google.maps.Map(document.getElementById("map"), {
                zoom: 13,
                center: { lat: 13.6288, lng: 79.4192 }, // Tirupati coordinates
                mapTypeId: 'roadmap',
                styles: [
                    {
                        featureType: "road",
                        elementType: "geometry",
                        stylers: [{ color: "#f5f5f5" }]
                    },
                    {
                        featureType: "road.highway",
                        elementType: "geometry",
                        stylers: [{ color: "#dadada" }]
                    }
                ]
            });

            directionsService = new google.maps.DirectionsService();
            directionsRenderer = new google.maps.DirectionsRenderer({
                draggable: true,
                panel: null,
                polylineOptions: {
                    strokeColor: '#667eea',
                    strokeWeight: 6,
                    strokeOpacity: 0.8
                }
            });
            directionsRenderer.setMap(map);

            // Initialize autocomplete
            initAutocomplete();

            // Get user's current location
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    const userLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    map.setCenter(userLocation);
                    
                    // Add current location marker
                    new google.maps.Marker({
                        position: userLocation,
                        map: map,
                        title: "Your Current Location",
                        icon: {
                            url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='%234ecdc4'%3E%3Ccircle cx='12' cy='12' r='8'/%3E%3Cpath fill='%23fff' d='M12 6a6 6 0 0 0-6 6c0 4 6 10 6 10s6-6 6-10a6 6 0 0 0-6-6z'/%3E%3C/svg%3E",
                            scaledSize: new google.maps.Size(20, 20)
                        }
                    });
                }, function () {
                    console.log("Geolocation failed");
                });
            }

            // Load hazard markers initially
            loadHazardMarkers();

            // Listen for route changes
            directionsRenderer.addListener('directions_changed', function() {
                currentRoute = directionsRenderer.getDirections();
                analyzeRouteHazards();
            });
        }

        // Initialize autocomplete for location inputs
        function initAutocomplete() {
            const startInput = document.getElementById('startLocation');
            const endInput = document.getElementById('endLocation');

            autocompleteStart = new google.maps.places.Autocomplete(startInput);
            autocompleteEnd = new google.maps.places.Autocomplete(endInput);

            autocompleteStart.bindTo('bounds', map);
            autocompleteEnd.bindTo('bounds', map);

            // Add place changed listeners
            autocompleteStart.addListener('place_changed', function() {
                const place = autocompleteStart.getPlace();
                if (place.geometry) {
                    addMarker(place.geometry.location, 'start');
                }
            });

            autocompleteEnd.addListener('place_changed', function() {
                const place = autocompleteEnd.getPlace();
                if (place.geometry) {
                    addMarker(place.geometry.location, 'end');
                }
            });
        }

        // Add marker to map
        function addMarker(location, type) {
            const iconUrl = type === 'start' ? 
                "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%234CAF50'%3E%3Cpath d='M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z'/%3E%3Cpath fill='%23fff' d='M12 7a2 2 0 1 0 0 4 2 2 0 0 0 0-4z'/%3E%3C/svg%3E" :
                "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23F44336'%3E%3Cpath d='M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z'/%3E%3Cpath fill='%23fff' d='M12 7a2 2 0 1 0 0 4 2 2 0 0 0 0-4z'/%3E%3C/svg%3E";

            if (type === 'start') {
                if (startMarker) startMarker.setMap(null);
                startMarker = new google.maps.Marker({
                    position: location,
                    map: map,
                    title: "Starting Point",
                    icon: {
                        url: iconUrl,
                        scaledSize: new google.maps.Size(30, 30)
                    }
                });
            } else {
                if (endMarker) endMarker.setMap(null);
                endMarker = new google.maps.Marker({
                    position: location,
                    map: map,
                    title: "Destination",
                    icon: {
                        url: iconUrl,
                        scaledSize: new google.maps.Size(30, 30)
                    }
                });
            }
        }

        // Load hazard markers on the map
        function loadHazardMarkers() {
            // Clear existing markers
            hazardMarkers.forEach(marker => marker.setMap(null));
            hazardMarkers = [];

            // Add pothole markers
            if (potholeDetectionActive) {
                hazardData.potholes.forEach((pothole, index) => {
                    const marker = new google.maps.Marker({
                        position: { lat: pothole.lat, lng: pothole.lng },
                        map: map,
                        title: `Pothole - ${pothole.severity} severity`,
                        icon: {
                            url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='25' height='25' viewBox='0 0 24 24' fill='%23ff6b6b'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Ctext x='12' y='16' text-anchor='middle' fill='white' font-size='12'%3E🕳️%3C/text%3E%3C/svg%3E",
                            scaledSize: new google.maps.Size(25, 25)
                        }
                    });

                    const infoWindow = new google.maps.InfoWindow({
                        content: `
                            <div style="padding: 8px;">
                                <h4 style="color: #ff6b6b; margin: 0 0 5px 0;">🕳️ Pothole Detected</h4>
                                <p style="margin: 2px 0;"><strong>Severity:</strong> ${pothole.severity}</p>
                                <p style="margin: 2px 0;"><strong>Size:</strong> ${pothole.size}</p>
                                <p style="margin: 2px 0;"><strong>Reported by:</strong> ${pothole.reportedBy}</p>
                                <p style="margin: 2px 0; font-size: 0.8em; color: #666;">
                                    ${pothole.timestamp.toLocaleString()}
                                </p>
                            </div>
                        `
                    });

                    marker.addListener('click', function() {
                        infoWindow.open(map, marker);
                    });

                    hazardMarkers.push(marker);
                });
            }

            // Add construction markers
            if (constructionDetectionActive) {
                hazardData.construction.forEach((construction, index) => {
                    const marker = new google.maps.Marker({
                        position: { lat: construction.lat, lng: construction.lng },
                        map: map,
                        title: `Construction - ${construction.type}`,
                        icon: {
                            url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='25' height='25' viewBox='0 0 24 24' fill='%23ffa500'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Ctext x='12' y='16' text-anchor='middle' fill='white' font-size='12'%3E🚧%3C/text%3E%3C/svg%3E",
                            scaledSize: new google.maps.Size(25, 25)
                        }
                    });

                    const infoWindow = new google.maps.InfoWindow({
                        content: `
                            <div style="padding: 8px;">
                                <h4 style="color: #ffa500; margin: 0 0 5px 0;">🚧 Construction Zone</h4>
                                <p style="margin: 2px 0;"><strong>Type:</strong> ${construction.type.replace('_', ' ')}</p>
                                <p style="margin: 2px 0;"><strong>Duration:</strong> ${construction.duration}</p>
                                <p style="margin: 2px 0;"><strong>Impact:</strong> ${construction.impact.replace('_', ' ')}</p>
                                <p style="margin: 2px 0;"><strong>Authority:</strong> ${construction.authority}</p>
                            </div>
                        `
                    });

                    marker.addListener('click', function() {
                        infoWindow.open(map, marker);
                    });

                    hazardMarkers.push(marker);
                });

                // Add roadwork markers
                hazardData.roadwork.forEach((roadwork, index) => {
                    const marker = new google.maps.Marker({
                        position: { lat: roadwork.lat, lng: roadwork.lng },
                        map: map,
                        title: `Road Work - ${roadwork.type}`,
                        icon: {
                            url: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='25' height='25' viewBox='0 0 24 24' fill='%23667eea'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Ctext x='12' y='16' text-anchor='middle' fill='white' font-size='12'%3E⚠️%3C/text%3E%3C/svg%3E",
                            scaledSize: new google.maps.Size(25, 25)
                        }
                    });

                    const infoWindow = new google.maps.InfoWindow({
                        content: `
                            <div style="padding: 8px;">
                                <h4 style="color: #667eea; margin: 0 0 5px 0;">⚠️ Road Work</h4>
                                <p style="margin: 2px 0;"><strong>Type:</strong> ${roadwork.type}</p>
                                <p style="margin: 2px 0;"><strong>Duration:</strong> ${roadwork.duration}</p>
                                <p style="margin: 2px 0;"><strong>Impact:</strong> ${roadwork.impact.replace('_', ' ')}</p>
                                <p style="margin: 2px 0;"><strong>Authority:</strong> ${roadwork.authority}</p>
                            </div>
                        `
                    });

                    marker.addListener('click', function() {
                        infoWindow.open(map, marker);
                    });

                    hazardMarkers.push(marker);
                });
            }
        }

        // Get current location for input
        function getCurrentLocation(inputType) {
            if (navigator.geolocation) {
                const button = event.target;
                button.innerHTML = '⏳';
                button.disabled = true;

                navigator.geolocation.getCurrentPosition(function(position) {
                    const pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };

                    // Reverse geocode to get address
                    const geocoder = new google.maps.Geocoder();
                    geocoder.geocode({ location: pos }, function(results, status) {
                        if (status === 'OK' && results[0]) {
                            const inputId = inputType === 'start' ? 'startLocation' : 'endLocation';
                            document.getElementById(inputId).value = results[0].formatted_address;
                            addMarker(pos, inputType);
                        }
                        
                        button.innerHTML = '📍';
                        button.disabled = false;
                    });
                }, function() {
                    showAlert('Unable to get your location. Please check location permissions.', 'warning');
                    button.innerHTML = '📍';
                    button.disabled = false;
                });
            } else {
                showAlert('Your browser doesn\'t support geolocation.', 'warning');
            }
        }

        // Swap start and end locations
        function swapLocations() {
            const startInput = document.getElementById('startLocation');
            const endInput = document.getElementById('endLocation');
            
            const tempValue = startInput.value;
            startInput.value = endInput.value;
            endInput.value = tempValue;

            // Swap markers
            if (startMarker && endMarker) {
                const tempPos = startMarker.getPosition();
                startMarker.setPosition(endMarker.getPosition());
                endMarker.setPosition(tempPos);
            }
        }

        // Scan route for hazards
        function scanRoute() {
            const start = document.getElementById('startLocation').value;
            const end = document.getElementById('endLocation').value;

            if (!start || !end) {
                showAlert('Please enter both starting point and destination.', 'warning');
                return;
            }

            showLoading(true);

            const request = {
                origin: start,
                destination: end,
                travelMode: google.maps.TravelMode.DRIVING,
                avoidTolls: false,
                avoidHighways: false,
                optimizeWaypoints: true,
                provideRouteAlternatives: true
            };

            directionsService.route(request, function(result, status) {
                showLoading(false);
                
                if (status === 'OK') {
                    directionsRenderer.setDirections(result);
                    currentRoute = result;
                    
                    // Analyze route for hazards
                    setTimeout(() => {
                        analyzeRouteHazards();
                        showHazardInfo(true);
                        showAlert('Route scan completed! Check hazard panel for details.', 'info');
                    }, 1000);
                } else {
                    showAlert('Unable to calculate route: ' + status, 'danger');
                }
            });
        }

        // Analyze route for hazards
        function analyzeRouteHazards() {
            if (!currentRoute) return;

            const route = currentRoute.routes[0];
            const routePath = route.overview_path;
            const routeHazards = [];

            // Check for hazards along the route
            const tolerance = 0.001; // Approximate 100m tolerance

            // Check potholes
            if (potholeDetectionActive) {
                hazardData.potholes.forEach(pothole => {
                    for (let i = 0; i < routePath.length; i++) {
                        const distance = calculateDistance(
                            routePath[i].lat(), routePath[i].lng(),
                            pothole.lat, pothole.lng
                        );
                        if (distance < tolerance) {
                            routeHazards.push({
                                type: 'pothole',
                                data: pothole,
                                distance: Math.round(distance * 100000) + 'm', // Convert to meters
                                severity: pothole.severity
                            });
                            break;
                        }
                    }
                });
            }

            // Check construction zones
            if (constructionDetectionActive) {
                hazardData.construction.forEach(construction => {
                    for (let i = 0; i < routePath.length; i++) {
                        const distance = calculateDistance(
                            routePath[i].lat(), routePath[i].lng(),
                            construction.lat, construction.lng
                        );
                        if (distance < tolerance * 2) { // Larger tolerance for construction zones
                            routeHazards.push({
                                type: 'construction',
                                data: construction,
                                distance: Math.round(distance * 100000) + 'm',
                                severity: construction.impact
                            });
                            break;
                        }
                    }
                });

                hazardData.roadwork.forEach(roadwork => {
                    for (let i = 0; i < routePath.length; i++) {
                        const distance = calculateDistance(
                            routePath[i].lat(), routePath[i].lng(),
                            roadwork.lat, roadwork.lng
                        );
                        if (distance < tolerance) {
                            routeHazards.push({
                                type: 'roadwork',
                                data: roadwork,
                                distance: Math.round(distance * 100000) + 'm',
                                severity: roadwork.impact
                            });
                            break;
                        }
                    }
                });
            }

            displayHazardAnalysis(routeHazards);
        }

        // Display hazard analysis results
        function displayHazardAnalysis(hazards) {
            const potholeCount = hazards.filter(h => h.type === 'pothole').length;
            const constructionCount = hazards.filter(h => h.type === 'construction' || h.type === 'roadwork').length;

            document.getElementById('potholeCount').textContent = potholeCount;
            document.getElementById('constructionCount').textContent = constructionCount;

            const hazardList = document.getElementById('hazardList');
            hazardList.innerHTML = '';

            if (hazards.length === 0) {
                hazardList.innerHTML = '<div style="text-align: center; color: #4ecdc4; font-weight: 600;">✅ No hazards detected on this route!</div>';
                return;
            }

            hazards.forEach(hazard => {
                const hazardItem = document.createElement('div');
                hazardItem.className = `hazard-item ${hazard.type}`;
                
                let icon = '🕳️';
                let title = 'Pothole';
                let description = `${hazard.data.severity} severity`;
                
                if (hazard.type === 'construction') {
                    icon = '🚧';
                    title = 'Construction Zone';
                    description = hazard.data.type.replace('_', ' ');
                } else if (hazard.type === 'roadwork') {
                    icon = '⚠️';
                    title = 'Road Work';
                    description = hazard.data.type;
                }

                hazardItem.innerHTML = `
                    <span>${icon}</span>
                    <div>
                        <div style="font-weight: 600;">${title}</div>
                        <div style="color: #666;">${description}</div>
                    </div>
                    <div class="hazard-distance">${hazard.distance}</div>
                `;

                hazardList.appendChild(hazardItem);
            });

            // Show alerts for high-priority hazards
            const highPriorityHazards = hazards.filter(h => 
                (h.type === 'pothole' && h.data.severity === 'high') ||
                (h.type === 'construction' && h.data.impact === 'full_closure')
            );

            if (highPriorityHazards.length > 0) {
                showAlert(`⚠️ ${highPriorityHazards.length} high-priority hazard(s) detected on your route!`, 'danger');
            }
        }

        // Calculate distance between two points
        function calculateDistance(lat1, lng1, lat2, lng2) {
            const R = 6371; // Earth's radius in km
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLng = (lng2 - lng1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                     Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                     Math.sin(dLng/2) * Math.sin(dLng/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c; // Distance in km
        }

        // Clear route and markers
        function clearRoute() {
            directionsRenderer.setDirections({routes: []});
            if (startMarker) startMarker.setMap(null);
            if (endMarker) endMarker.setMap(null);
            
            document.getElementById('startLocation').value = '';
            document.getElementById('endLocation').value = '';
            
            currentRoute = null;
            showHazardInfo(false);
            hideAlert();
        }

        // Toggle pothole detection
        function togglePotholeDetection() {
            potholeDetectionActive = !potholeDetectionActive;
            const btn = document.getElementById('potholeBtn');
            
            if (potholeDetectionActive) {
                btn.classList.add('active');
                btn.style.background = '#ff6b6b';
            } else {
                btn.classList.remove('active');
                btn.style.background = '#ccc';
            }
            
            loadHazardMarkers();
            if (currentRoute) analyzeRouteHazards();
        }

        // Toggle construction detection
        function toggleConstructionDetection() {
            constructionDetectionActive = !constructionDetectionActive;
            const btn = document.getElementById('constructionBtn');
            
            if (constructionDetectionActive) {
                btn.classList.add('active');
                btn.style.background = '#ffa500';
            } else {
                btn.classList.remove('active');
                btn.style.background = '#ccc';
            }
            
            loadHazardMarkers();
            if (currentRoute) analyzeRouteHazards();
        }

        // Toggle real-time monitoring
        function toggleRealtimeMonitoring() {
            realtimeMonitoringActive = !realtimeMonitoringActive;
            const btn = document.getElementById('realtimeBtn');
            
            if (realtimeMonitoringActive) {
                btn.classList.add('active', 'pulse');
                btn.style.background = '#4ecdc4';
                showAlert('📡 Real-time monitoring activated', 'info');
                startRealtimeMonitoring();
            } else {
                btn.classList.remove('active', 'pulse');
                btn.style.background = '#ccc';
                stopRealtimeMonitoring();
            }
        }

        // Start real-time monitoring
        function startRealtimeMonitoring() {
            // Simulate real-time updates every 30 seconds
            window.realtimeInterval = setInterval(() => {
                if (realtimeMonitoringActive) {
                    // Simulate new hazard detection
                    simulateNewHazard();
                }
            }, 30000);
        }

        // Stop real-time monitoring
        function stopRealtimeMonitoring() {
            if (window.realtimeInterval) {
                clearInterval(window.realtimeInterval);
            }
        }

        // Simulate detection of new hazards
        function simulateNewHazard() {
            const hazardTypes = ['pothole', 'construction', 'roadwork'];
            const randomType = hazardTypes[Math.floor(Math.random() * hazardTypes.length)];
            
            // Generate random coordinates near current view
            const bounds = map.getBounds();
            const ne = bounds.getNorthEast();
            const sw = bounds.getSouthWest();
            
            const randomLat = sw.lat() + Math.random() * (ne.lat() - sw.lat());
            const randomLng = sw.lng() + Math.random() * (ne.lng() - sw.lng());

            if (randomType === 'pothole') {
                hazardData.potholes.push({
                    lat: randomLat,
                    lng: randomLng,
                    severity: ['low', 'medium', 'high'][Math.floor(Math.random() * 3)],
                    size: ['small', 'medium', 'large'][Math.floor(Math.random() * 3)],
                    reportedBy: 'real-time sensor',
                    timestamp: new Date()
                });
                showAlert('🕳️ New pothole detected nearby!', 'warning');
            }

            loadHazardMarkers();
            if (currentRoute) analyzeRouteHazards();
        }

        // Toggle options panel
        function toggleOptions() {
            // For now, this could expand additional settings
            showAlert('Advanced monitoring options are active', 'info');
        }

        // Show/hide loading overlay
        function showLoading(show) {
            const overlay = document.getElementById('loadingOverlay');
            if (show) {
                overlay.classList.add('show');
            } else {
                overlay.classList.remove('show');
            }
        }

        // Show/hide hazard info panel
        function showHazardInfo(show) {
            const hazardInfo = document.getElementById('hazardInfo');
            if (show) {
                hazardInfo.classList.add('show');
            } else {
                hazardInfo.classList.remove('show');
            }
        }

        // Show alert banner
        function showAlert(message, type = 'info') {
            const banner = document.getElementById('alertBanner');
            const icon = document.getElementById('alertIcon');
            const text = document.getElementById('alertText');

            // Set appropriate icon and styling
            switch(type) {
                case 'danger':
                    icon.textContent = '🚨';
                    banner.className = 'alert-banner show';
                    break;
                case 'warning':
                    icon.textContent = '⚠️';
                    banner.className = 'alert-banner warning show';
                    break;
                case 'info':
                    icon.textContent = 'ℹ️';
                    banner.className = 'alert-banner info show';
                    break;
            }

            text.textContent = message;

            // Auto-hide after 5 seconds for non-critical alerts
            if (type !== 'danger') {
                setTimeout(() => hideAlert(), 5000);
            }
        }

        // Hide alert banner
        function hideAlert() {
            const banner = document.getElementById('alertBanner');
            banner.classList.remove('show');
        }

        // Initialize when page loads
        window.addEventListener('load', function() {
            // Set default buttons as active
            document.getElementById('potholeBtn').classList.add('active');
            document.getElementById('constructionBtn').classList.add('active');
            
            // Show welcome message
            setTimeout(() => {
                showAlert('🚧 Road Condition Monitor is ready! Enter your route to scan for hazards.', 'info');
            }, 1000);
        });

        // Add click listener for reporting new hazards
        map.addListener('click', function(e) {
            if (realtimeMonitoringActive) {
                const response = confirm(`Report a hazard at this location?\nLat: ${e.latLng.lat().toFixed(6)}\nLng: ${e.latLng.lng().toFixed(6)}`);
                if (response) {
                    // Add new user-reported pothole
                    hazardData.potholes.push({
                        lat: e.latLng.lat(),
                        lng: e.latLng.lng(),
                        severity: 'medium',
                        size: 'medium',
                        reportedBy: 'user',
                        timestamp: new Date()
                    });
                    
                    loadHazardMarkers();
                    showAlert('📍 Thank you! Hazard reported successfully.', 'info');
                }
            }
        });
    </script>

    <!-- Google Maps API -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places&callback=initMap"></script>
</body>
</html>

    <!-- Live Application / Dashboard -->
    <section class="section reveal" id="live-dashboard">
      <h2>🔴 Live Traffic Dashboard</h2>
      <p>
        Interactive demo of live traffic telemetry: real-time density, average speed, lane status, and incident alerts.
        Data here is simulated in-browser — replace the simulation with your real API / WebSocket to go live.
      </p>

      <div style="display:grid; grid-template-columns: 1fr 420px; gap:20px; align-items:start; margin-top:20px;">
        <!-- Left: Metrics + Controls + Incident List -->
        <div>
          <div style="display:flex; gap:12px; margin-bottom:16px; flex-wrap:wrap;">
            <div class="feature-card" style="flex:1; min-width:150px;">
              <div class="feature-icon">📈</div>
              <h3 id="metric-density">Traffic Density</h3>
              <p id="val-density" style="font-size:1.6rem; color:#00d4ff;">—</p>
            </div>

            <div class="feature-card" style="flex:1; min-width:150px;">
              <div class="feature-icon">⏱️</div>
              <h3 id="metric-speed">Avg Speed</h3>
              <p id="val-speed" style="font-size:1.6rem; color:#00d4ff;">— km/h</p>
            </div>

            <div class="feature-card" style="flex:1; min-width:150px;">
              <div class="feature-icon">🚦</div>
              <h3 id="metric-lanes">Lane Status</h3>
              <p id="val-lanes" style="font-size:1.1rem; color:#00d4ff;">—</p>
            </div>
          </div>

          <div style="display:flex; gap:12px; align-items:center; margin-bottom:12px; flex-wrap:wrap;">
            <button id="btn-start" class="back-button" style="padding:10px 18px; border-radius:12px; font-size:0.95rem;">Start</button>
            <button id="btn-stop" class="back-button" style="background:linear-gradient(135deg,#ff6b6b,#f06595); padding:10px 18px; border-radius:12px; font-size:0.95rem;">Stop</button>

            <label style="color:rgba(255,255,255,0.9); margin-left:8px;">Speed:</label>
            <input id="speed-range" type="range" min="200" max="2000" step="100" value="800" style="width:180px;">
            <span id="speed-label" style="color:rgba(255,255,255,0.9); min-width:40px; display:inline-block;">800ms</span>
          </div>

          <div style="margin-top:10px;">
            <h4 style="color:#fff; margin-bottom:8px;">Recent Incidents</h4>
            <ul id="incident-list" style="list-style:none; padding:0; max-height:160px; overflow:auto;">
              <!-- incidents appended here -->
            </ul>
          </div>
        </div>

        <!-- Right: Mini-map + chart -->
        <div>
          <!-- SVG road with moving cars -->
          <div style="background:rgba(0,0,0,0.05); border-radius:12px; padding:14px; margin-bottom:14px;">
            <svg id="mini-map" width="380" height="200" viewBox="0 0 380 200" style="display:block; margin:0 auto; background:rgba(255,255,255,0.02); border-radius:8px;">
              <!-- road background -->
              <rect x="20" y="50" width="340" height="100" rx="20" fill="#222" opacity="0.6"></rect>

              <!-- lane separators -->
              <g stroke="#fff" stroke-width="2" stroke-dasharray="12 8" opacity="0.6">
                <line x1="40" y1="100" x2="340" y2="100"></line>
              </g>

              <!-- lanes areas (for clickable status) -->
              <rect id="lane-1" x="20" y="50" width="170" height="100" rx="20" fill="transparent" style="cursor:pointer;"></rect>
              <rect id="lane-2" x="190" y="50" width="170" height="100" rx="20" fill="transparent" style="cursor:pointer;"></rect>

              <!-- cars group -->
              <g id="cars"></g>
            </svg>
            <p style="color:rgba(255,255,255,0.8); text-align:center; margin-top:8px; font-size:0.95rem;">Mini map: click lanes to toggle closure</p>
          </div>

          <!-- traffic density chart -->
          <div style="background:rgba(0,0,0,0.04); border-radius:12px; padding:12px;">
            <canvas id="density-chart" width="360" height="140" style="display:block; margin:0 auto; background:rgba(255,255,255,0.02); border-radius:8px;"></canvas>
            <p id="chart-note" style="color:rgba(255,255,255,0.7); text-align:center; font-size:0.85rem; margin-top:6px;">Traffic density (vehicles/km) — last 30 points</p>
          </div>
        </div>
      </div>

      <script>
        (function() {
          // DOM refs
          const valDensity = document.getElementById('val-density');
          const valSpeed = document.getElementById('val-speed');
          const valLanes = document.getElementById('val-lanes');
          const incidentList = document.getElementById('incident-list');
          const btnStart = document.getElementById('btn-start');
          const btnStop = document.getElementById('btn-stop');
          const speedRange = document.getElementById('speed-range');
          const speedLabel = document.getElementById('speed-label');
          const carsGroup = document.getElementById('cars');
          const lane1 = document.getElementById('lane-1');
          const lane2 = document.getElementById('lane-2');

          // Chart setup
          const canvas = document.getElementById('density-chart');
          const ctx = canvas.getContext('2d');
          let dataPoints = Array.from({length:30}, () => 30 + Math.random()*30);

          // simulation state
          let running = false;
          let timer = null;
          let updateInterval = Number(speedRange.value); // ms
          let lanesOpen = [true, true];

          function drawChart() {
            // clear
            ctx.clearRect(0,0,canvas.width,canvas.height);
            // grid
            ctx.globalAlpha = 0.12;
            ctx.strokeStyle = '#fff'; ctx.lineWidth = 0.6;
            for (let y=20; y<canvas.height; y+=20) {
              ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(canvas.width,y); ctx.stroke();
            }
            ctx.globalAlpha = 1;
            // area
            const maxV = 100;
            ctx.beginPath();
            dataPoints.forEach((v,i) => {
              const x = (i/(dataPoints.length-1))*(canvas.width-20)+10;
              const y = canvas.height - ((v/maxV)*(canvas.height-20)+10);
              if (i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
            });
            ctx.strokeStyle = '#00d4ff';
            ctx.lineWidth = 2;
            ctx.stroke();

            // fill gradient
            const grad = ctx.createLinearGradient(0,0,0,canvas.height);
            grad.addColorStop(0,'rgba(0,212,255,0.12)');
            grad.addColorStop(1,'rgba(0,212,255,0.02)');
            ctx.lineTo(canvas.width-10, canvas.height-10);
            ctx.lineTo(10, canvas.height-10);
            ctx.fillStyle = grad;
            ctx.fill();
          }

          function renderCars(density) {
            // number of cars scales with density (cap 12)
            const count = Math.min(12, Math.round((density/100)*12));
            carsGroup.innerHTML = '';
            for (let i=0;i<count;i++){
              const car = document.createElementNS('http://www.w3.org/2000/svg','rect');
              const lane = i%2; // alternate lanes
              const laneY = lane===0 ? 70 : 130;
              const xPos = 40 + ((i*37) % 280);
              car.setAttribute('x', xPos);
              car.setAttribute('y', laneY - 9);
              car.setAttribute('rx', 4);
              car.setAttribute('ry', 4);
              car.setAttribute('width', 28);
              car.setAttribute('height', 18);
              car.setAttribute('fill', lanesOpen[lane] ? (lane===0 ? '#ffb86b' : '#7ef5b0') : '#6c6c6c');
              car.setAttribute('opacity', lanesOpen[lane] ? '0.95' : '0.35');
              carsGroup.appendChild(car);
            }
          }

          function addIncident(text) {
            const li = document.createElement('li');
            li.style.background = 'rgba(255,255,255,0.03)';
            li.style.padding = '10px';
            li.style.marginBottom = '8px';
            li.style.borderRadius = '8px';
            li.style.color = 'rgba(255,255,255,0.95)';
            li.textContent = `${new Date().toLocaleTimeString()} — ${text}`;
            incidentList.prepend(li);
            // keep at most 8
            while (incidentList.children.length>8) incidentList.removeChild(incidentList.lastChild);
          }

          function updateMetrics() {
            // generate simulated metrics
            const last = dataPoints[dataPoints.length-1] || 30;
            // density drift
            let next = Math.max(5, Math.min(100, last + (Math.random()*10 - 5)));
            // if a lane is closed, bump density moderately
            const closedLanes = lanesOpen.filter(Boolean).length;
            if (closedLanes < 2) next = Math.min(100, next + 8*(2-closedLanes));
            dataPoints.push(next);
            if (dataPoints.length>30) dataPoints.shift();

            const avgSpeed = Math.max(10, Math.round(80 - (next/100)*60 + (Math.random()*6-3)));
            const laneStatusText = lanesOpen.map((s,i) => `Lane ${i+1}: ${s ? 'Open' : 'Closed'}`).join(' • ');

            // update DOM
            valDensity.textContent = `${Math.round(next)} veh/km`;
            valSpeed.textContent = `${avgSpeed} km/h`;
            valLanes.textContent = laneStatusText;
            renderCars(next);
            drawChart();

            // random chance of incident when density high
            if (next > 70 && Math.random() < 0.18) {
              addIncident('Minor slowdown due to an obstacle — rerouting suggested');
            }
            if (next > 85 && Math.random() < 0.08) {
              addIncident('Major congestion — automatic reroute deployed');
            }
          }

          // controls
          btnStart.addEventListener('click', () => {
            if (!running) {
              running = true; startLoop();
            }
          });
          btnStop.addEventListener('click', () => {
            running = false;
            if (timer) clearInterval(timer);
            addIncident('Simulation paused by user');
          });
          speedRange.addEventListener('input', () => {
            updateInterval = Number(speedRange.value);
            speedLabel.textContent = `${updateInterval}ms`;
            if (running) {
              clearInterval(timer);
              startLoop();
            }
          });

          // lane click toggles
          lane1.addEventListener('click', () => { lanesOpen[0]=!lanesOpen[0]; addIncident(`Lane 1 ${lanesOpen[0]?'reopened':'closed for maintenance'}`); });
          lane2.addEventListener('click', () => { lanesOpen[1]=!lanesOpen[1]; addIncident(`Lane 2 ${lanesOpen[1]?'reopened':'closed for maintenance'}`); });

          function startLoop() {
            if (timer) clearInterval(timer);
            updateMetrics(); // immediate update
            timer = setInterval(updateMetrics, updateInterval);
          }

          // init
          (function init() {
            dataPoints = Array.from({length:30}, (_,i) => 25 + Math.random()*40);
            drawChart();
            renderCars(40);
            valDensity.textContent = '—';
            valSpeed.textContent = '—';
            valLanes.textContent = 'Lane 1: Open • Lane 2: Open';
            speedLabel.textContent = `${updateInterval}ms`;
            // start by default
            running = true; startLoop();
          })();

        })();
      </script>
    </section>
<!DOCTYPE html>
<html>

  

     

  
  
     


<a href="traffic.html">Live Traffic Detector</a>

<a href="gps.html" target="pageFrame">Live GPS</a>


  

         
 
<!DOCTYPE html>
<html>
<head>
  <title>Live GPS Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    #map {
      height: 100%;
      width: 100%;
    }
  </style>
</head>
<body>

<div id="map"></div>

<script>
  let map, marker;

  function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      zoom: 15,
      center: { lat: 0, lng: 0 }
    });

    if (navigator.geolocation) {
      navigator.geolocation.watchPosition((pos) => {
        const userPos = {
          lat: pos.coords.latitude,
          lng: pos.coords.longitude
        };
        map.setCenter(userPos);
        if (!marker) {
          marker = new google.maps.Marker({
            position: userPos,
            map: map,
            title: "You are here"
          });
        } else {
          marker.setPosition(userPos);
        }
      });
    } else {
      alert("Geolocation is not supported by this browser.");
    }
  }
</script>

<script async
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC9r4I3K164gGgiKNlNJjzx4TPjOKVbhkU&callback=initMap">
</script>

</body>
</html>
    
 
        
    
































